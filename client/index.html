<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quantum Chat</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <!-- Username Modal -->
    <!-- <div id="username-modal" class="modal">
        <div class="modal-content">
            <div class="avatar big" id="modal-avatar"></div>
            <input type="text" id="modal-username" maxlength="16" placeholder="Enter your username..." autofocus>
            <button id="modal-btn">Enter Quantum Chat</button>
        </div>
    </div> -->

    <!-- Profile Modal -->
    <div id="profile-modal" class="modal">
        <div class="modal-content profile-modal-content">
            <div class="profile-avatar-section">
                <label for="profile-avatar-input" class="avatar-upload-label">
                    <div class="avatar big" id="profile-avatar-preview"></div>
                    <span class="avatar-upload-text">Change Avatar</span>
                </label>
                <input type="file" id="profile-avatar-input" accept="image/*" style="display:none;">
            </div>
            <div class="profile-fields">
                <div class="profile-field">
                    <label for="profile-displayname">Display Name</label>
                    <input type="text" id="profile-displayname" maxlength="16" placeholder="Your cool name">
                </div>
                <div class="profile-field">
                    <label for="profile-status">Status</label>
                    <input type="text" id="profile-status" maxlength="32" placeholder="e.g. Available, Busy">
                </div>
            </div>
            <div class="profile-actions">
                <button id="profile-save-btn" class="futuristic-btn">Save</button>
                <button id="profile-cancel-btn" class="futuristic-btn secondary">Cancel</button>
            </div>
        </div>
    </div>

    <div class="chat-app" style="display:none;">
        <aside class="sidebar">
            <div class="user-card" id="user-card">
                <div class="avatar big" id="my-avatar"></div>
                <div class="user-info">
                    <div class="username" id="my-username"></div>
                    <div class="status-glow">‚óè Online</div>
                </div>
            </div>
            <div class="users-section">
                <h3>Online Users</h3>
                <ul id="users-list"></ul>
            </div>
            <div class="groups-section">
                <h3>Groups</h3>
                <ul id="groups-list"></ul>
                <button id="create-group-btn" class="futuristic-btn">+ Create Group</button>
            </div>
        </aside>

        <main class="main-chat">
            <div class="chat-tabs">
                <button id="tab-public" class="tab active">Public Chat</button>
                <button id="tab-private" class="tab">Private Chat</button>
                <div id="group-tabs" style="display: flex; gap: 0.5rem;"></div>
            </div>
            <!-- Public Chat Panel -->
            <div id="public-chat" class="chat-panel active">
                <div class="chat-box" id="public-chat-box"></div>
                <div class="input-area">
                    <button id="emoji-btn-public" type="button" title="Add emoji">üòä</button>
                    <input type="file" id="public-file-input" style="display:none;">
                    <button id="public-file-btn" type="button" title="Attach file">üìé</button>
                    <input type="text" id="public-message-input" placeholder="Type a message...">
                    <button id="public-send-btn" type="button">
                        <span class="send-icon">‚û§</span>
                    </button>
                </div>
            </div>
            <!-- Private Chat Panel -->
            <div id="private-chat" class="chat-panel">
                <div class="private-header">
                    <label for="private-user-select">Chat with:</label>
                    <select id="private-user-select"></select>
                </div>
                <div class="chat-box" id="private-chat-box"></div>
                <div class="input-area">
                    <button id="emoji-btn-private" type="button" title="Add emoji">üòä</button>
                    <input type="file" id="private-file-input" style="display:none;">
                    <button id="private-file-btn" type="button" title="Attach file">üìé</button>
                    <input type="text" id="private-message-input" placeholder="Type a private message...">
                    <button id="private-send-btn" type="button">
                        <span class="send-icon">‚û§</span>
                    </button>
                </div>
            </div>
            <!-- Group Chat Panel -->
            <div id="group-chat" class="chat-panel">
                <div id="group-chat-header"></div>
                <div class="chat-box" id="group-chat-box"></div>
                <div class="input-area">
                    <input type="text" id="group-message-input" placeholder="Type a message...">
                    <button id="group-send-btn" type="button">
                        <span class="send-icon">‚û§</span>
                    </button>
                </div>
            </div>
        </main>
    </div>
    <button id="open-profile-btn" class="profile-btn">Edit Profile</button>
    <button id="logout-btn" class="futuristic-btn logout-btn">Logout</button>

    <!-- Group Modal (Create/Join) -->
    <div id="group-modal" class="modal" style="display:none;">
        <div class="modal-content profile-modal-content" style="min-width:400px;">
            <div id="group-modal-tabs" style="display:flex; gap:1rem; margin-bottom:1.5rem;">
                <button id="tab-create-group" class="futuristic-btn active" style="flex:1;">Create Group</button>
                <button id="tab-join-group" class="futuristic-btn secondary" style="flex:1;">Join Group</button>
            </div>
            <div id="create-group-panel">
                <div class="profile-field">
                    <label for="group-name-input">Group Name</label>
                    <input type="text" id="group-name-input" maxlength="24" placeholder="Enter group name">
                </div>
                <div class="profile-field">
                    <label for="group-avatar-input">Group Avatar</label>
                    <input type="file" id="group-avatar-input" accept="image/*">
                </div>
                <div class="profile-field">
                    <label for="group-code-input">Group Code</label>
                    <input type="text" id="group-code-input" maxlength="12" placeholder="Set a join code">
                </div>
                <div class="profile-actions">
                    <button id="group-create-btn" class="futuristic-btn">Create</button>
                    <button id="group-cancel-btn" class="futuristic-btn secondary">Cancel</button>
                </div>
            </div>
            <div id="join-group-panel" style="display:none;">
                <div class="profile-field">
                    <label for="join-group-code-input">Group Code</label>
                    <input type="text" id="join-group-code-input" maxlength="12" placeholder="Enter group code">
                </div>
                <div class="profile-actions">
                    <button id="group-join-btn" class="futuristic-btn">Join</button>
                    <button id="group-cancel-btn2" class="futuristic-btn secondary">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <script src="scripts/app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js" type="module"></script>
</body>
</html>
